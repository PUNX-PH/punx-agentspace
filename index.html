<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HeyGen Streaming API LiveKit (V2)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/livekit-client/dist/livekit-client.umd.min.js"></script>
</head>
<body class="bg-gray-100 p-5 font-sans">
  <div class="max-w-3xl mx-auto bg-white p-5 rounded-lg shadow-md">
    <div class="flex flex-wrap gap-2.5 mb-5">
      <button id="startBtn"
        class="px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
        Start
      </button>
      <button id="closeBtn"
        class="px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition-colors">
        Close
      </button>
    </div>

    <div class="flex flex-wrap gap-2.5 mb-5">
      <input id="taskInput" type="text"
        placeholder="Enter text for avatar to speak"
        class="flex-1 min-w-[200px] p-2 border border-gray-300 rounded-md"/>
      <button id="talkBtn"
        class="px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors">
        Send
      </button>
      <button id="micBtn"
        class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors">
        ðŸŽ¤ Hold Space to Talk
      </button>
      <button id="downloadTranscriptBtn"
        class="px-4 py-2 bg-purple-500 text-white rounded-md hover:bg-purple-600 transition-colors">
        Download Transcript
      </button>
    </div>

    <video id="mediaElement"
      class="w-full max-h-[400px] border rounded-lg my-5"
      autoplay></video>
    <div id="status"
      class="p-2.5 bg-gray-50 border border-gray-300 rounded-md h-[100px] overflow-y-auto font-mono text-sm"></div>
  </div>

  <!-- Load backend logic separately -->
  <script src="./app.js"></script>
</body>
</html>
